
public class DrawThread extends Thread {


2.   private Account account;// 模拟用户账户


3.   private double drawAmount;// 当前取钱线程所希望取的钱数


4. 


5.   public DrawThread(String name, Account account, double drawAmount) {


6.      super(name);


7.      this.account = account;


8.      this.drawAmount = drawAmount;


9.   }


10. 


11.   // 当多条线程修改同一个共享数据时，将涉及到数据安全问题。


12.   public void run() {


13.      // 账户余额大于取钱数目


14.      if (account.getBalance() >= drawAmount) {


15.         // 吐出钞票


16.         System.out.println(getName() + "取钱成功！吐出钞票:" + drawAmount);


17.         /*try { 


18.            Thread.sleep(1); 


19.         } catch (InterruptedException ex) { 


20.            ex.printStackTrace(); 


21.         }*/


22.         // 修改余额


23.         account.setBalance(account.getBalance() - drawAmount);


24.         System.out.println("\t余额为: " + account.getBalance());


25.      } else {


26.         System.out.println(getName() + "取钱失败！余额不足！");


27.      }


28.   }


29.}
